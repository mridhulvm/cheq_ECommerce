{% extends 'admin/base.html' %}
{% load static %}
{% block content %}

<div class="col-lg-9 grid-margin stretch-card mx-auto">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Category Offers</h4>
      
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>                                                                                                                            
                <th>SL.no</th>
                <th>category</th>
                <th>category Offer</th>
                <th>Offer Period</th>
                <th>Offer Status</th>
              </tr>
            </thead>
            <tbody>
              {% for category in catergories %}
              <tr>
                <td>{{forloop.counter}}</td>
                <td>{{ category.category.category_name }}</td>
                <td>{{ category.offer }}</td>
                <td>{{category.offer_start}}-{{category.offer_end}}</td>
                {% if category.check_expired %}
                <td >
                    <p class="btn btn-success">Active</p></td>
                {% else %}
                <td><p class="btn btn-danger">InActive</p></td>
                {% endif %}
            
                <td><a href="{% url 'editCategoryOffer' category.id %}" class="btn btn-outline-success"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                <td><a href="{% url 'deleteCategoryOffer' category.id %}" onclick="return myCategoryFunction()"  class="btn btn-outline-danger"><span class="glyphicon glyphicon-pencil" >  Delete </span></a>
         
                

              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


<!----------------------------------------------------------------------------------------Product Offers-->
  <div class="col-lg-12 grid-margin stretch-card mx-auto">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Product Offers</h4>
        <!-- <p class="card-description"> Add class <code>.table-hover</code>
        </p> -->
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>                                                                                                                            
                <th>SL.no</th>
                <th>Category</th>
                <th>Product Name </th>
                <th>Price</th>
                <th>Offer Price</th>

                <th>Product Offer </th>
                <th>Offer Period</th>
                <th>Offer Status</th>
                <th>Edit</th>
              </tr>
            </thead>
            <tbody>
              {% for product in products %}
              <tr>
                <td>{{forloop.counter}}</td>
                <td>{{ product.product.category.category_name }}</td>
                <td>{{ product.product.product_name }}</td>
                <td>{{ product.product.price }}</td>
                <td>{{ product.product.offer_price}}</td>

                <td>{{ product.offer }}</td>
                <td>{{product.offer_start}}-{{product.offer_end}} </td>
                
                {% if product.check_expired %}
                <td >
                    <p class="btn btn-success">Active</p></td>
                {% else %}
                <td><p class="btn btn-danger">InActive</p></td>
                {% endif %}                

                <td><a href="{% url 'editProductOffer' product.id %}" class="btn btn-outline-success"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                <td><a href="{% url 'deleteProductOffer' product.id %}" onclick="return myProductFunction()"  class="btn btn-outline-danger"><span class="glyphicon glyphicon-pencil" >  Delete </span></a>

                

              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  
  <script>
      
    function myProductFunction() {

      return confirm("Confirm Deleting Product Offer ")
    }
    function myCategoryFunction() {

      return confirm("Confirm Deleting Category Offer ")
    }
    </script>

{% endblock content %}